# Документ дизайна - Сайт бара (MVP)

## Обзор

Система представляет собой современное веб-приложение для бара, построенное по архитектуре клиент-сервер. Основные компоненты:

- **Frontend**: React SPA (Single Page Application) с PWA возможностями
- **Backend**: Go REST API сервер
- **Database**: PostgreSQL
- **Deployment**: Docker контейнеры с локальным сервером в баре

Ключевая особенность - гибридная архитектура с локальным сервером в баре для работы без интернета и возможностью внешнего доступа через KeenDNS.

## Архитектура

### Общая схема

```
┌─────────────────────────────────────────────────────────────┐
│                    Пользовательские устройства               │
│  (Браузеры: Chrome, Safari, Firefox на ПК/телефонах/планшетах)│
└────────────────────────┬────────────────────────────────────┘
                         │ HTTPS (REST API)
                         │
┌────────────────────────┴────────────────────────────────────┐
│                   Локальный сервер в баре                    │
│  ┌──────────────────────────────────────────────────────┐   │
│  │  Nginx (Reverse Proxy + Static Files)                │   │
│  └────────────────────┬─────────────────────────────────┘   │
│                       │                                      │
│  ┌────────────────────┴─────────────────────────────────┐   │
│  │  Go Backend (REST API)                               │   │
│  │  - Gin Web Framework                                 │   │
│  │  - JWT Authentication                                │   │
│  │  - Image Processing                                  │   │
│  └────────────────────┬─────────────────────────────────┘   │
│                       │                                      │
│  ┌────────────────────┴─────────────────────────────────┐   │
│  │  PostgreSQL Database                                 │   │
│  └──────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

### Сетевая архитектура

**Внутри бара (локальная сеть):**
- Устройства подключаются к WiFi роутеру Keenetic Skipper 4G
- Доступ к серверу по локальному IP: `http://192.168.1.100` (пример)
- Планшеты бара работают только в локальной сети

**Внешний доступ (через интернет):**
- KeenDNS предоставляет домен: `bar-name.keenetic.pro` (пример)
- Автоматический SSL сертификат от KeenDNS
- Роутер перенаправляет трафик на локальный сервер
- Работает даже с 4G без белого IP

